<html>
<head>
	<title>Weather App</title>
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
	<!-- <link rel="stylesheet" type="text/css" href="file:///Users/ryanohern/Documents/Coding/ajax/weather.css"> -->
	
	
	<!-- Bootstrap Core CSS -->
    <!--<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">-->

    <!-- Custom Fonts -->
    <!--<link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- <link rel="stylesheet" href="public/weather.css"> -->
	<!-- Inline CSS -->
	
	<style>
		
		header {
			background-color: #668899;
			height: 200px;
			width: 100%;
		}

		header h1 {
			color: white;
			font-size: 54px;
			padding: 65px 0 0 0;

		}

		body {
			background-color: #eeeeee;
		}

		/*h1 {
			color: white;
			font-size: 44px;
		}*/

		#input-field {
			width: 30%;
			margin: 10px auto;
			/*border: 1px solid black;*/
			background-color: #eeeeee;
			text-align: center;
			padding: 15px;
		}

		#input-field p {
			text-align: center;
			margin: 0 15px 15px 15px;
			font-size: 24px;
			color: #333;
		}

		input {
			width: 200px;
			height: 40px;
			font-size: 20px;
		}

		#check-weather {
			margin: 0 0 0 0;
			width: 150px;
			height: 60px;
			background-color: #668899;
			color: white;
			font-size: 20px;
		}

		#my-weather {
			width: 30%;
			margin: 0px auto;
			/*border: 1px solid black;*/
			background-color: #eee;
			padding: 0px 0 0 0;
		}

		#my-weather p {
			text-align: left;
			/*margin: 0 15px 15px 15px;*/
			font-size: 22px;
			color: #333;
		}

		.feedback {
			color: #668899;
			font-size: 18px;
			font-weight: lighter;
			height: 30px;
		}
	</style>

</head>
<body>
	<header>
		<h1 align="center">What's My Weather?</h1>
	</header>
	<div id="input-field">
		<p>City <input type="text" id="city"></p>
		<p>State <input type="text" id="state"></p>
		<button id="check-weather">Tell Me Now!</button>
	</div>

	<div id="my-weather">

		<p><b>Current Location: </b><br>
			<span id="location" class="feedback"></span></p>
		<p><b>Temperature: </b><br>
			<span id="temp" class="feedback"></span></p>
		<p><b>Wind Speed: </b><br>
			<span id="wind" class="feedback"></span></p>
		<p><b>Coat? </b><br>
			<span id="coat" class="feedback"></span></p>
		<p><b>Weather </b><br>
			<span id="weather" class="feedback"></span></p>			
		<p><b>Sunscreen? </b><br>
			<span id="sunscreen" class="feedback"></span></p>		
	</div>


<!--SCRIPTS-->

<script type="text/javascript">

$(function(){
	$('#check-weather').on('click', function(){

		var state = $('#state').val();
		var city = $('#city').val();

		$.ajax({
			type: 'GET',
			//need to use variables to 'GET' from correct url
			url: 'http://api.wunderground.com/api/a40d67f295f63f82/conditions/q/' + state + '/' + city + '.json',
			success: function(r) {
				var location = r.current_observation.display_location.full;
				var temp = r.current_observation.temp_f;
				var wind = r.current_observation.wind_string;
				var weather = r.current_observation.weather;
				var needCoat = " ";
				var needSunscreen = " ";
				var tempConverted = parseInt(temp);
				console.log(weather);
				
				if (tempConverted < 65){
					// console.log("Yes, you need a coat");
					needCoat = "Yes";
				}else{
					// console.log("No, you don't need a coat");
					needCoat = "No";
				};
				if (weather === "sunny"){
					needSunscreen = "Yes";
				}else{
					needSunscreen = "No";
				};
				
				//For testing your variables
				// console.log(location);
				// console.log(temp);
				// console.log(wind);

				$("#location").text(location);
				$("#temp").text(temp + " F");
				$("#wind").text(wind);
				$("#coat").text(needCoat);
				$("#sunscreen").text(needSunscreen);
				$("#weather").text(weather);
				
			},
			error: function(){
				alert('error loading');
			}
		}); //closes AJAX call

	}); //closes click function
});

</script>

<!-- <script type="text/javascript" src="public/weather.js"></script> -->

</body>
</html>